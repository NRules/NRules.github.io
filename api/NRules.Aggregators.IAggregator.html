<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
      <title>Interface IAggregator | NRules </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Interface IAggregator | NRules ">
      
      <meta name="description" content="Base interface for fact aggregators. An aggregator is a stateful element of the rules engine, that receives matching facts of a particular kind, and can combine them into a synthetic fact, that is then used by the downstream logic in the rule. Aggregator also receives updates and removals for the matching facts, so that it can keep the corresponding aggregate facts in sync. An aggregator must be supplemented by a corresponding implementation of  that knows how to create new instances of the aggregator.">
      <link rel="icon" href="../images/logo.png">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/NRules/NRules/new/main/apiSpec/new?filename=NRules_Aggregators_IAggregator.md&amp;value=---%0Auid%3A%20NRules.Aggregators.IAggregator%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/logo.png" alt="NRules">
            NRules
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="NRules.Aggregators.IAggregator">



  <h1 id="NRules_Aggregators_IAggregator" data-uid="NRules.Aggregators.IAggregator" class="text-break">
Interface IAggregator  <a class="header-action link-secondary" title="View source" href="https://github.com/NRules/NRules/blob/main/src/NRules/NRules/Aggregators/IAggregator.cs/#L15"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="NRules.html">NRules</a>.<a class="xref" href="NRules.Aggregators.html">Aggregators</a></dd></dl>
  <dl><dt>Assembly</dt><dd>NRules.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Base interface for fact aggregators.
An aggregator is a stateful element of the rules engine, that receives matching facts of a particular kind,
and can combine them into a synthetic fact, that is then used by the downstream logic in the rule.
Aggregator also receives updates and removals for the matching facts, so that it can keep the corresponding
aggregate facts in sync.
An aggregator must be supplemented by a corresponding implementation of <a class="xref" href="NRules.Aggregators.IAggregatorFactory.html">IAggregatorFactory</a> that
knows how to create new instances of the aggregator.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface IAggregator</code></pre>
  </div>













  <h2 class="section" id="methods">Methods
</h2>


  <a id="NRules_Aggregators_IAggregator_Add_" data-uid="NRules.Aggregators.IAggregator.Add*"></a>

  <h3 id="NRules_Aggregators_IAggregator_Add_NRules_Aggregators_AggregationContext_NRules_RuleModel_ITuple_System_Collections_Generic_IReadOnlyCollection_NRules_RuleModel_IFact__" data-uid="NRules.Aggregators.IAggregator.Add(NRules.Aggregators.AggregationContext,NRules.RuleModel.ITuple,System.Collections.Generic.IReadOnlyCollection{NRules.RuleModel.IFact})">
  Add(AggregationContext, ITuple, IReadOnlyCollection&lt;IFact&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/NRules/NRules/blob/main/src/NRules/NRules/Aggregators/IAggregator.cs/#L24"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Called by the rules engine when new facts enter corresponding aggregator.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IReadOnlyCollection&lt;AggregationResult&gt; Add(AggregationContext context, ITuple tuple, IReadOnlyCollection&lt;IFact&gt; facts)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>context</code> <a class="xref" href="NRules.Aggregators.AggregationContext.html">AggregationContext</a></dt>
    <dd><p>Aggregation context.</p>
</dd>
    <dt><code>tuple</code> <a class="xref" href="NRules.RuleModel.ITuple.html">ITuple</a></dt>
    <dd><p>Tuple containing preceding partial matches.</p>
</dd>
    <dt><code>facts</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ireadonlycollection-1">IReadOnlyCollection</a>&lt;<a class="xref" href="NRules.RuleModel.IFact.html">IFact</a>&gt;</dt>
    <dd><p>New facts to add to the aggregate.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ireadonlycollection-1">IReadOnlyCollection</a>&lt;<a class="xref" href="NRules.Aggregators.AggregationResult.html">AggregationResult</a>&gt;</dt>
    <dd><p>Results of the operation on the aggregate, based on the added facts.</p>
</dd>
  </dl>











  <a id="NRules_Aggregators_IAggregator_Modify_" data-uid="NRules.Aggregators.IAggregator.Modify*"></a>

  <h3 id="NRules_Aggregators_IAggregator_Modify_NRules_Aggregators_AggregationContext_NRules_RuleModel_ITuple_System_Collections_Generic_IReadOnlyCollection_NRules_RuleModel_IFact__" data-uid="NRules.Aggregators.IAggregator.Modify(NRules.Aggregators.AggregationContext,NRules.RuleModel.ITuple,System.Collections.Generic.IReadOnlyCollection{NRules.RuleModel.IFact})">
  Modify(AggregationContext, ITuple, IReadOnlyCollection&lt;IFact&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/NRules/NRules/blob/main/src/NRules/NRules/Aggregators/IAggregator.cs/#L33"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Called by the rules engine when existing facts are modified in the corresponding aggregator.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IReadOnlyCollection&lt;AggregationResult&gt; Modify(AggregationContext context, ITuple tuple, IReadOnlyCollection&lt;IFact&gt; facts)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>context</code> <a class="xref" href="NRules.Aggregators.AggregationContext.html">AggregationContext</a></dt>
    <dd><p>Aggregation context.</p>
</dd>
    <dt><code>tuple</code> <a class="xref" href="NRules.RuleModel.ITuple.html">ITuple</a></dt>
    <dd><p>Tuple containing preceding partial matches.</p>
</dd>
    <dt><code>facts</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ireadonlycollection-1">IReadOnlyCollection</a>&lt;<a class="xref" href="NRules.RuleModel.IFact.html">IFact</a>&gt;</dt>
    <dd><p>Existing facts to update in the aggregate.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ireadonlycollection-1">IReadOnlyCollection</a>&lt;<a class="xref" href="NRules.Aggregators.AggregationResult.html">AggregationResult</a>&gt;</dt>
    <dd><p>Results of the operation on the aggregate, based on the modified facts.</p>
</dd>
  </dl>











  <a id="NRules_Aggregators_IAggregator_Remove_" data-uid="NRules.Aggregators.IAggregator.Remove*"></a>

  <h3 id="NRules_Aggregators_IAggregator_Remove_NRules_Aggregators_AggregationContext_NRules_RuleModel_ITuple_System_Collections_Generic_IReadOnlyCollection_NRules_RuleModel_IFact__" data-uid="NRules.Aggregators.IAggregator.Remove(NRules.Aggregators.AggregationContext,NRules.RuleModel.ITuple,System.Collections.Generic.IReadOnlyCollection{NRules.RuleModel.IFact})">
  Remove(AggregationContext, ITuple, IReadOnlyCollection&lt;IFact&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/NRules/NRules/blob/main/src/NRules/NRules/Aggregators/IAggregator.cs/#L42"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Called by the rules engine when existing facts are removed from the corresponding aggregator.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IReadOnlyCollection&lt;AggregationResult&gt; Remove(AggregationContext context, ITuple tuple, IReadOnlyCollection&lt;IFact&gt; facts)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>context</code> <a class="xref" href="NRules.Aggregators.AggregationContext.html">AggregationContext</a></dt>
    <dd><p>Aggregation context.</p>
</dd>
    <dt><code>tuple</code> <a class="xref" href="NRules.RuleModel.ITuple.html">ITuple</a></dt>
    <dd><p>Tuple containing preceding partial matches.</p>
</dd>
    <dt><code>facts</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ireadonlycollection-1">IReadOnlyCollection</a>&lt;<a class="xref" href="NRules.RuleModel.IFact.html">IFact</a>&gt;</dt>
    <dd><p>Existing facts to remove from the aggregate.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ireadonlycollection-1">IReadOnlyCollection</a>&lt;<a class="xref" href="NRules.Aggregators.AggregationResult.html">AggregationResult</a>&gt;</dt>
    <dd><p>Results of the operation on the aggregate, based on the removed facts.</p>
</dd>
  </dl>












</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/NRules/NRules/blob/main/src/NRules/NRules/Aggregators/IAggregator.cs/#L15" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Copyright &copy; 2012-2026 <a href="https://github.com/snikolayev">Sergiy Nikolayev</a> under the <a href="https://raw.github.com/NRules/NRules/main/LICENSE.txt">MIT license</a>.</span>
        </div>
      </div>
    </footer>
  </body>
</html>
